import multiprocessing
import shutil
import os

def worker(i):
    os.chdir('298.0/{:02d}'.format(i))
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m eq1.json -f ../../inputfiles/FEP1.json -d eq1 --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/eq2.json -f ../../inputfiles/FEP1.json -d eq2 -r eq1/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/eq3.json -f ../../inputfiles/FEP1.json -d eq3 -r eq2/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/eq4.json -f ../../inputfiles/FEP1.json -d eq4 -r eq3/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/eq5.json -f ../../inputfiles/FEP1.json -d eq5 -r eq4/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_1000_0000.json -f ../../inputfiles/FEP1.json -d md_1000_0000 -r eq5/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0998_0002.json -f ../../inputfiles/FEP1.json -d md_0998_0002 -r md_1000_0000/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0996_0004.json -f ../../inputfiles/FEP1.json -d md_0996_0004 -r md_0998_0002/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0994_0006.json -f ../../inputfiles/FEP1.json -d md_0994_0006 -r md_0996_0004/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0991_0009.json -f ../../inputfiles/FEP1.json -d md_0991_0009 -r md_0994_0006/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0989_0011.json -f ../../inputfiles/FEP1.json -d md_0989_0011 -r md_0991_0009/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0986_0014.json -f ../../inputfiles/FEP1.json -d md_0986_0014 -r md_0989_0011/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0983_0017.json -f ../../inputfiles/FEP1.json -d md_0983_0017 -r md_0986_0014/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0979_0021.json -f ../../inputfiles/FEP1.json -d md_0979_0021 -r md_0983_0017/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0976_0024.json -f ../../inputfiles/FEP1.json -d md_0976_0024 -r md_0979_0021/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0971_0029.json -f ../../inputfiles/FEP1.json -d md_0971_0029 -r md_0976_0024/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0967_0033.json -f ../../inputfiles/FEP1.json -d md_0967_0033 -r md_0971_0029/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0961_0039.json -f ../../inputfiles/FEP1.json -d md_0961_0039 -r md_0967_0033/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0955_0045.json -f ../../inputfiles/FEP1.json -d md_0955_0045 -r md_0961_0039/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0948_0052.json -f ../../inputfiles/FEP1.json -d md_0948_0052 -r md_0955_0045/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0940_0060.json -f ../../inputfiles/FEP1.json -d md_0940_0060 -r md_0948_0052/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0930_0070.json -f ../../inputfiles/FEP1.json -d md_0930_0070 -r md_0940_0060/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0919_0081.json -f ../../inputfiles/FEP1.json -d md_0919_0081 -r md_0930_0070/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0905_0095.json -f ../../inputfiles/FEP1.json -d md_0905_0095 -r md_0919_0081/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0888_0112.json -f ../../inputfiles/FEP1.json -d md_0888_0112 -r md_0905_0095/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0867_0133.json -f ../../inputfiles/FEP1.json -d md_0867_0133 -r md_0888_0112/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0838_0162.json -f ../../inputfiles/FEP1.json -d md_0838_0162 -r md_0867_0133/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0800_0200.json -f ../../inputfiles/FEP1.json -d md_0800_0200 -r md_0838_0162/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0744_0256.json -f ../../inputfiles/FEP1.json -d md_0744_0256 -r md_0800_0200/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0657_0343.json -f ../../inputfiles/FEP1.json -d md_0657_0343 -r md_0744_0256/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0500_0500.json -f ../../inputfiles/FEP1.json -d md_0500_0500 -r md_0657_0343/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0343_0657.json -f ../../inputfiles/FEP1.json -d md_0343_0657 -r md_0500_0500/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0256_0744.json -f ../../inputfiles/FEP1.json -d md_0256_0744 -r md_0343_0657/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0200_0800.json -f ../../inputfiles/FEP1.json -d md_0200_0800 -r md_0256_0744/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0162_0838.json -f ../../inputfiles/FEP1.json -d md_0162_0838 -r md_0200_0800/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0133_0867.json -f ../../inputfiles/FEP1.json -d md_0133_0867 -r md_0162_0838/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0112_0888.json -f ../../inputfiles/FEP1.json -d md_0112_0888 -r md_0133_0867/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0095_0905.json -f ../../inputfiles/FEP1.json -d md_0095_0905 -r md_0112_0888/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0081_0919.json -f ../../inputfiles/FEP1.json -d md_0081_0919 -r md_0095_0905/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0070_0930.json -f ../../inputfiles/FEP1.json -d md_0070_0930 -r md_0081_0919/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0060_0940.json -f ../../inputfiles/FEP1.json -d md_0060_0940 -r md_0070_0930/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0052_0948.json -f ../../inputfiles/FEP1.json -d md_0052_0948 -r md_0060_0940/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0045_0955.json -f ../../inputfiles/FEP1.json -d md_0045_0955 -r md_0052_0948/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0039_0961.json -f ../../inputfiles/FEP1.json -d md_0039_0961 -r md_0045_0955/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0033_0967.json -f ../../inputfiles/FEP1.json -d md_0033_0967 -r md_0039_0961/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0029_0971.json -f ../../inputfiles/FEP1.json -d md_0029_0971 -r md_0033_0967/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0024_0976.json -f ../../inputfiles/FEP1.json -d md_0024_0976 -r md_0029_0971/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0021_0979.json -f ../../inputfiles/FEP1.json -d md_0021_0979 -r md_0024_0976/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0017_0983.json -f ../../inputfiles/FEP1.json -d md_0017_0983 -r md_0021_0979/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0014_0986.json -f ../../inputfiles/FEP1.json -d md_0014_0986 -r md_0017_0983/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0011_0989.json -f ../../inputfiles/FEP1.json -d md_0011_0989 -r md_0014_0986/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0009_0991.json -f ../../inputfiles/FEP1.json -d md_0009_0991 -r md_0011_0989/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0006_0994.json -f ../../inputfiles/FEP1.json -d md_0006_0994 -r md_0009_0991/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0004_0996.json -f ../../inputfiles/FEP1.json -d md_0004_0996 -r md_0006_0994/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0002_0998.json -f ../../inputfiles/FEP1.json -d md_0002_0998 -r md_0004_0996/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qdyn.py  --gpu -t ../../inputfiles/dualtop.json -m ../../inputfiles/md_0000_1000.json -f ../../inputfiles/FEP1.json -d md_0000_1000 -r md_0002_0998/dualtop/output --clean')
    os.system('python /home/willem/software/qgpu/bin/qfep.py  -d out -i ../../inputfiles/qfep.json')
    shutil.move('out/qfep.out', '../../results/qfep-{:02d}.out'.format(i))
    os.chdir('../../')
    os.system('tar -cvf raw_data-{:02d}.tar.gz 298.0/{:02d}'.format(i,i))
    shutil.rmtree('298.0/{:02d}'.format(i))
    return

if __name__ == '__main__':
    jobs = []
    for i in range(1):
        p = multiprocessing.Process(target=worker,args=(i,))
        jobs.append(p)
        p.start()
